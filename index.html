<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Streaming Player TV</title>
    <style>
        body, html { 
            margin: 0; 
            padding: 0; 
            width: 100%; 
            height: 100%; 
            background-color: #000; 
            overflow: hidden; 
            font-family: sans-serif;
        }

        .wrapper {
            position: relative;
            width: 100vw;
            height: 100vh;
            transform: translateZ(0);
            -webkit-transform: translateZ(0);
        }

        iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }

        /* Bouton discret pour relancer si ça freeze */
        .reload-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            z-index: 9999;
            font-size: 12px;
            opacity: 0.5;
        }
        
        .reload-btn:hover { opacity: 1; background: rgba(255, 255, 255, 0.4); }
    </style>
</head>
<body>

    <div class="wrapper">
        <iframe 
            id="videoPlayer"
            src="https://vidmoly.net/embed-g7d07h39u6xr.html" 
            allow="autoplay; fullscreen" 
            allowfullscreen
            loading="lazy"
            sandbox="allow-scripts allow-forms allow-presentation allow-same-origin"
            importance="high">
        </iframe>
    </div>

    <button class="reload-btn" onclick="reloadPlayer()">Relancer le lecteur</button>

    <script>
        function reloadPlayer() {
            const iframe = document.getElementById('videoPlayer');
            const currentSrc = iframe.src;
            iframe.src = ''; // Vide la source pour forcer l'arrêt
            setTimeout(() => {
                iframe.src = currentSrc; // Relance le chargement
            }, 100);
        }
        
        console.log("Player optimisé pour GitHub Pages et Smart TV.");
    </script>

</body>
</html>
